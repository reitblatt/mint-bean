# Backend Configuration
# Database Configuration
# For development with Docker: use the PostgreSQL service
# DATABASE_URL=postgresql://mintbean_user:mintbean_dev_password@postgres:5432/mintbean
# For development without Docker: use local PostgreSQL
# DATABASE_URL=postgresql://mintbean_user:your_password@localhost:5432/mintbean
# For testing/legacy: use SQLite (not recommended for production)
DATABASE_URL=sqlite:///./data/mintbean.db

# PostgreSQL Configuration (used by docker-compose)
POSTGRES_DB=mintbean
POSTGRES_USER=mintbean_user
POSTGRES_PASSWORD=changeme_password

SECRET_KEY=your-secret-key-change-in-production
DEBUG=true

# Encryption Key for Sensitive Data
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# CRITICAL: Keep this secure and backed up! If lost, encrypted data cannot be recovered.
# NEVER commit this key to version control!
ENCRYPTION_KEY=your-encryption-key-change-in-production

# CORS Configuration
# Comma-separated list of allowed origins, or "*" for all (development only)
# Production examples:
#   - Single domain: ALLOWED_ORIGINS=https://mint.example.com
#   - Multiple domains: ALLOWED_ORIGINS=https://mint.example.com,https://app.example.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Beancount Configuration
# For testing, use the example file:
# BEANCOUNT_FILE_PATH=./example-data/example.beancount
# BEANCOUNT_REPO_PATH=./example-data
# For production, use your actual beancount files:
BEANCOUNT_FILE_PATH=/path/to/your/beancount/files/main.beancount
BEANCOUNT_REPO_PATH=/path/to/your/beancount/git/repo

# Plaid Configuration
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
PLAID_ENV=sandbox  # sandbox, development, or production

# Frontend Runtime Configuration (Production Only)
# This sets where the frontend will send API requests at runtime (not build time)
# Examples for different deployment scenarios:
#   - Path-based routing (same domain): API_URL=/api/v1
#   - Subdomain: API_URL=https://api.mint.example.com/api/v1
#   - Different domain: API_URL=https://backend.example.com/api/v1
#   - Direct container: API_URL=http://mintbean-backend:8000/api/v1
# Default for local docker-compose: /api/v1 (assumes reverse proxy routing)
API_URL=/api/v1

# Application Settings
LOG_LEVEL=INFO
